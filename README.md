# ğŸ¨ Trellis NIM - Simple Deployment & Inference

A streamlined notebook for deploying NVIDIA Trellis NIM and generating 3D models from text prompts using command line interface.

## ğŸŒŸ What This Does

Deploy NVIDIA's Trellis NIM container and generate high-quality 3D GLB models with:
- ğŸ“ **Text-to-3D Generation** - Transform text prompts into 3D models  
- âš¡ **Command Line Interface** - Direct API calls for reliable generation
- ğŸš€ **Simple Setup** - Just run the notebook cells in order
- ğŸ“ **GLB Output** - High-quality files ready for Blender, Unity, etc.

## ğŸ“‹ Prerequisites

### Hardware Requirements
- **GPU**: NVIDIA L40s (or compatible with >= 24GB VRAM)
- **RAM**: Minimum 32GB system RAM

### Software Requirements
- **Operating System**: Linux (Ubuntu 20.04+ recommended)
- **Python**: 3.8+ with Jupyter Notebook
- **Docker**: Version 20.10+ with NVIDIA Container Runtime
- **NVIDIA Drivers**: Latest GPU drivers installed

### NVIDIA Account Requirements
- Active [NVIDIA Developer](https://developer.nvidia.com/) account
- NGC API key from https://ngc.nvidia.com/setup/api-key

## ğŸš€ Quick Start

### 1. Install Dependencies
```bash
# Install Jupyter if you don't have it
pip install jupyter

# Install Docker with NVIDIA runtime (Ubuntu example)
sudo apt update
sudo apt install docker.io

# Install NVIDIA Container Toolkit
distribution=$(. /etc/os-release;echo $ID$VERSION_ID)
curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg
curl -fsSL https://nvidia.github.io/libnvidia-container/$distribution/libnvidia-container.list | sed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list
sudo apt update && sudo apt install -y nvidia-container-toolkit
sudo systemctl restart docker
```

### 2. Run the Notebook
```bash
# Start Jupyter Notebook
jupyter notebook

# Open: trellis_nim_simple.ipynb
```

### 3. Generate 3D Models
**ğŸ¯ Simple 3-Step Workflow:**
1. **Check GPU** (Cell 2) - Verify L40s GPU availability
2. **Deploy NIM** (Cells 4-8) - Start Trellis NIM container  
3. **Generate Models** (Cell 10) - Change prompt and run to create 3D models

## âœ¨ Key Features

### ğŸ¯ **Simple & Reliable**
- **Command line generation** - Direct API calls to NIM service
- **Step-by-step workflow** - Just run cells in order
- **Clear feedback** - Status messages and error handling
- **No complex setup** - Everything in one notebook

### ğŸ“ **Professional Output**
- **GLB format** - Industry standard 3D model files
- **High quality** - Generated by NVIDIA Trellis NIM
- **Ready to use** - Import directly into Blender, Unity, etc.
- **Automatic saving** - Files saved in current directory

## ğŸ¯ Usage Guide

### **Step 1: Deploy NIM Container**
Run cells 2-8 in sequence:
1. Check GPU with `nvidia-smi`
2. Set your NGC API key
3. Login to NGC registry
4. Start Trellis NIM container

### **Step 2: Generate 3D Models**
Use cell 10:
1. Change `PROMPT = "..."` to your desired text
2. Optionally change `OUTPUT_FILE = "..."` for different filename
3. Run the cell and wait 1-3 minutes

### **Step 3: Use Your Models**
- Generated `.glb` files are saved in the current directory
- Open in Blender, Unity, or any 3D software
- Use for games, visualizations, 3D printing, etc.

## ğŸ’¡ Example Prompts

**Objects & Furniture:**
- `"A modern wooden chair"`
- `"A sleek desk lamp"`
- `"A vintage armchair"`

**Vehicles & Machines:**
- `"A futuristic sports car"`
- `"A retro motorcycle"`
- `"A space shuttle"`

**Architecture & Environments:**
- `"A cozy bedroom"`
- `"A medieval castle tower"`
- `"A modern office interior"`

**Creative & Sci-Fi:**
- `"A space station module"`
- `"A steampunk mechanical device"`
- `"A crystal cave formation"`

## ğŸ“ Project Structure

```
trellis-image-vision/
â”œâ”€â”€ ğŸ““ trellis_nim_simple.ipynb    # Main notebook - complete solution
â”œâ”€â”€ ğŸ“„ README.md                   # This documentation
â”œâ”€â”€ ğŸ“„ result.glb                  # Generated 3D models (example)
â””â”€â”€ ğŸ“„ *.glb                       # Your generated 3D models
```

### The Complete Notebook

**ğŸ““ trellis_nim_simple.ipynb** - Your complete solution:
- **Cells 2-8**: NIM container deployment and setup
- **Cell 10**: 3D model generation (change prompt here!)
- **Cells 12-16**: Container management and utilities

## ğŸ› ï¸ Troubleshooting

### Common Issues

**"No GPU detected"**
```bash
nvidia-smi  # Should show your L40s GPU
```

**"Docker command not found"**
```bash
sudo apt install docker.io
```

**"Permission denied" with Docker**
```bash
sudo usermod -aG docker $USER
# Then logout and login again
```

**"Container won't start"**
```bash
# Check logs
docker logs nim-server

# Check container status
docker ps -a | grep nim-server
```

**"Generation fails"**
- Verify container is running: `docker ps | grep nim-server`
- Check container logs: `docker logs nim-server`
- Wait for container to fully initialize (2-5 minutes)
- Ensure prompt doesn't contain brands or specific products

### Container Management

```bash
# Check if NIM is running
docker ps | grep nim-server

# View NIM logs
docker logs nim-server --tail 20

# Stop container
docker stop nim-server && docker rm nim-server

# Restart container
# Re-run cells 6-8 in the notebook
```

## ğŸ‰ What Makes This Simple

### âœ¨ **Streamlined Approach**
- **No web UI complexity** - Direct command line generation
- **No external dependencies** - Everything in the notebook
- **No repository cloning** - Self-contained solution
- **No npm installations** - Pure Python/Docker workflow

### ğŸ¯ **Focused on Core Functionality**
- **Text-to-3D generation** - The core capability
- **Reliable API calls** - Direct communication with NIM
- **File-based output** - Simple `.glb` file generation
- **Clear workflow** - Easy to understand and modify

### ğŸš€ **Production Ready**
- **Error handling** - Comprehensive status checking
- **Timeout management** - Won't hang indefinitely  
- **Resource cleanup** - Clean container management
- **Scalable** - Easy to integrate into larger workflows

---

## ğŸ¯ Ready to Create 3D Models?

**Quick Start:**
1. Open `trellis_nim_simple.ipynb` in Jupyter
2. Run cells 2-8 to deploy NIM
3. **Run cell 10** and change the prompt
4. Get your 3D model in minutes!

**ğŸ”§ NIM Service:** http://localhost:8000  
**ğŸ“ Output:** `.glb` files in current directory

**ğŸ‰ From text to 3D in minutes - simple and reliable!**